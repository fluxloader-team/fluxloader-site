{"list":[{"title":"Config","link":"<a href=\"Config.html\">Config</a>","description":"<p>A global configuration object that stores application-wide settings, loaded from <code>config.json</code> or defaults if not found.\nThis object is used across the application for configuring behavior, such as discord bot settings, MongoDB connection details, and other core features.</p>"},{"title":"Log","link":"<a href=\"Log.html\">Log</a>"},{"title":"Log#debug","link":"<a href=\"Log.html#debug\">debug</a>"},{"title":"Log#error","link":"<a href=\"Log.html#error\">error</a>"},{"title":"Log#info","link":"<a href=\"Log.html#info\">info</a>"},{"title":"UserEntry","link":"<a href=\"UserEntry.html\">UserEntry</a>"},{"title":"UserEntry#banned","link":"<a href=\"UserEntry.html#banned\">banned</a>","description":"<p>if the user is banned</p>"},{"title":"UserEntry#description","link":"<a href=\"UserEntry.html#description\">description</a>","description":"<p>A description or bio for the user.</p>"},{"title":"UserEntry#discordID","link":"<a href=\"UserEntry.html#discordID\">discordID</a>","description":"<p>The discord ID of the user (unique identifier).</p>"},{"title":"UserEntry#discordUsername","link":"<a href=\"UserEntry.html#discordUsername\">discordUsername</a>","description":"<p>The discord username of the user.</p>"},{"title":"UserEntry#joinedAt","link":"<a href=\"UserEntry.html#joinedAt\">joinedAt</a>","description":"<p>The date and time when the user joined. Defaults to the current date and time.</p>"},{"title":"UserEntry#permissions","link":"<a href=\"UserEntry.html#permissions\">permissions</a>","description":"<p>An array of permissions assigned to the user.</p>"},{"title":"api.actions.run","link":"<a href=\"api.actions.html#.run\">run</a>","description":"<p>Handles HTTP requests for action data.</p>"},{"title":"api.adminactions.run","link":"<a href=\"api.adminactions.html#.run\">run</a>","description":"<p>Handles HTTP requests for admin actions.</p>"},{"title":"api.config.run","link":"<a href=\"api.config.html#.run\">run</a>","description":"<p>Handles HTTP requests for config data.</p>"},{"title":"api.discordAuth.run","link":"<a href=\"api.discordAuth.html#.run\">run</a>","description":"<p>Handles discord OAuth2 authentication and callback.</p>\n<ul>\n<li><code>/auth/discord</code>: Redirects the client to discord's OAuth2 authorization URL.</li>\n<li><code>/auth/discord/callback</code>: Processes the OAuth2 callback, retrieves user information, and stores it in the browser's local storage.</li>\n</ul>\n<h3 id=\"query-parameters%3A\">Query Parameters:</h3>\n<ul>\n<li><strong>code</strong>: <em>(required for <code>/auth/discord/callback</code>)</em>\nThe OAuth2 authorization code returned by discord after user authentication.\n<ul>\n<li><em>Example</em>: <code>code=abcdef123456</code></li>\n</ul>\n</li>\n</ul>"},{"title":"api.users.run","link":"<a href=\"api.users.html#.run\">run</a>","description":"<p>Handles HTTP requests for user data.</p>"},{"title":"discord/Events/clientready.js","link":"<a href=\"discord_Events_clientready.js.html\">discord/Events/clientready.js</a>","description":"<p>Handles the &quot;ready&quot; event for a discord bot client. This event is triggered when the bot successfully connects and becomes ready to interact with the discord API.\nIt performs necessary setup tasks, such as command registration, and logs the status for monitoring purposes.</p>"},{"title":"discord/Events/interactioncreate.js","link":"<a href=\"discord_Events_interactioncreate.js.html\">discord/Events/interactioncreate.js</a>","description":"<p>Handles the &quot;interactioncreate&quot; event in a discord bot. This event is fired whenever a user interacts with the bot through a registered slash command or other interactions.\nValidates and executes the appropriate command from the global command collection.</p>"},{"title":"discord/commands/getmodinfo.js","link":"<a href=\"discord_commands_getmodinfo.js.html\">discord/commands/getmodinfo.js</a>","description":"<p>Implements the <code>/getmodinfo</code> slash command for the discord bot. This command retrieves detailed information about a specific mod and its version.</p>"},{"title":"discord/commands/getmodversions.js","link":"<a href=\"discord_commands_getmodversions.js.html\">discord/commands/getmodversions.js</a>","description":"<p>Implements the <code>/getmodversions</code> slash command for the discord bot. This command allows users to fetch and view a list of versions for a specified mod.</p>"},{"title":"discord/commands/getsiteactions.js","link":"<a href=\"discord_commands_getsiteactions.js.html\">discord/commands/getsiteactions.js</a>","description":"<p>Implements the <code>/getsiteactions</code> slash command for the discord bot. This command retrieves site actions.</p>"},{"title":"discord/commands/searchmods.js","link":"<a href=\"discord_commands_searchmods.js.html\">discord/commands/searchmods.js</a>","description":"<p>Implements the <code>/searchmods</code> slash command for the discord bot. This command allows users to search for mods by name or tags and receive detailed results.</p>"},{"title":"discordbot.js","link":"<a href=\"discordbot.js.html\">discordbot.js</a>","description":"<p>The main module for handling discord bot functionality, including commands, events, and integration with the discord API.\nThis is the central module for all discord-related namespaces in the application.</p>"},{"title":"handleClient","link":"<a href=\"global.html#handleClient\">handleClient</a>","description":"<p>Handles operations using a MongoDB client.</p>"},{"title":"index.js","link":"<a href=\"index.js.html\">index.js</a>","description":"<p>The main entry point of the Sandustry mod site application.</p>"},{"title":"module:DB","link":"<a href=\"module-DB.html\">DB</a>","description":"<p>all global db functions</p>"},{"title":"module:DB.ActionEntry","link":"<a href=\"module-DB.ActionEntry.html\">ActionEntry</a>"},{"title":"module:DB.ActionEntry#action","link":"<a href=\"module-DB.ActionEntry.html#action\">action</a>","description":"<p>Description of the action performed.</p>"},{"title":"module:DB.ActionEntry#discordID","link":"<a href=\"module-DB.ActionEntry.html#discordID\">discordID</a>","description":"<p>The discord ID of the user who performed the action.</p>"},{"title":"module:DB.ActionEntry#logged","link":"<a href=\"module-DB.ActionEntry.html#logged\">logged</a>","description":"<p>Indicates whether the action has been logged or processed.</p>"},{"title":"module:DB.ActionEntry#time","link":"<a href=\"module-DB.ActionEntry.html#time\">time</a>","description":"<p>The date and time when the action occurred. Defaults to the current date and time.</p>"},{"title":"module:DB.GetAction","link":"<a href=\"module-DB.GetAction.html\">GetAction</a>","description":"<p>Functions related to action logging</p>"},{"title":"module:DB.GetAction.Add","link":"<a href=\"module-DB.GetAction.html#.Add\">Add</a>","description":"<p>Adds a new action entry to the database.</p>"},{"title":"module:DB.GetAction.Count","link":"<a href=\"module-DB.GetAction.html#.Count\">Count</a>","description":"<p>Counts the number of action entries in the database that match the provided query.</p>"},{"title":"module:DB.GetAction.Get","link":"<a href=\"module-DB.GetAction.html#.Get\">Get</a>","description":"<p>Retrieves action entries from the database based on the provided query.</p>"},{"title":"module:DB.GetAction.Update","link":"<a href=\"module-DB.GetAction.html#.Update\">Update</a>","description":"<p>Updates an existing action entry in the database.</p>\n<p>This function modifies an action entry in the <code>Actions</code> collection, identified by its unique <code>_id</code>.</p>"},{"title":"module:DB.GetMod","link":"<a href=\"module-DB.GetMod.html\">GetMod</a>","description":"<p>Functions related to mods.</p>"},{"title":"module:DB.GetMod.Data","link":"<a href=\"module-DB.GetMod.Data.html\">Data</a>","description":"<p>Functions related to Mod Data.</p>"},{"title":"module:DB.GetMod.Data.FindUnverified","link":"<a href=\"module-DB.GetMod.Data.html#.FindUnverified\">FindUnverified</a>","description":"<p>Finds unverified mods with optional limit and projection.</p>"},{"title":"module:DB.GetMod.Data.One","link":"<a href=\"module-DB.GetMod.Data.html#.One\">One</a>","description":"<p>Retrieves the data of a specific mod.</p>"},{"title":"module:DB.GetMod.Data.Random","link":"<a href=\"module-DB.GetMod.Data.html#.Random\">Random</a>","description":"<p>Fetches a random mod from the database.</p>"},{"title":"module:DB.GetMod.Data.Search","link":"<a href=\"module-DB.GetMod.Data.html#.Search\">Search</a>","description":"<p>Searches the mod db using the query provided</p>"},{"title":"module:DB.GetMod.Data.Update","link":"<a href=\"module-DB.GetMod.Data.html#.Update\">Update</a>","description":"<p>Updates a mod entry in the database.</p>\n<p>This function updates an existing mod entry in the <code>Mods</code> collection, identified by its unique <code>modID</code>.</p>"},{"title":"module:DB.GetMod.Data.Upload","link":"<a href=\"module-DB.GetMod.Data.html#.Upload\">Upload</a>","description":"<p>Uploads a mod to the db and automatically adds versions to existing mods if a mod entry exists</p>"},{"title":"module:DB.GetMod.Delete","link":"<a href=\"module-DB.GetMod.html#.Delete\">Delete</a>","description":"<p>Deletes a mod and all its associated versions from the database based on the provided mod ID.</p>\n<p>This function removes the mod record from the <code>Mods</code> collection and all corresponding entries from the <code>ModVersions</code> collection.</p>"},{"title":"module:DB.GetMod.Versions","link":"<a href=\"module-DB.GetMod.Versions.html\">Versions</a>","description":"<p>Functions related to Mod versions.</p>"},{"title":"module:DB.GetMod.Versions.All","link":"<a href=\"module-DB.GetMod.Versions.html#.All\">All</a>","description":"<p>Retrieves all versions of a mod.</p>"},{"title":"module:DB.GetMod.Versions.Delete","link":"<a href=\"module-DB.GetMod.Versions.html#.Delete\">Delete</a>","description":"<p>Deletes a specific version of a mod from the database.\nIf the mod has only one remaining version and that version is deleted, the mod itself is also removed from the <code>Mods</code> collection.</p>"},{"title":"module:DB.GetMod.Versions.Multiple","link":"<a href=\"module-DB.GetMod.Versions.html#.Multiple\">Multiple</a>","description":"<p>Retrieves the latest version of multiple mods by their IDs.</p>\n<p>This function uses an aggregation pipeline to efficiently fetch the most recent version\nof each mod in the provided list of mod IDs.</p>"},{"title":"module:DB.GetMod.Versions.MultipleNumbers","link":"<a href=\"module-DB.GetMod.Versions.html#.MultipleNumbers\">MultipleNumbers</a>","description":"<p>Retrieves lists of version numbers for multiple mod IDs.</p>"},{"title":"module:DB.GetMod.Versions.Numbers","link":"<a href=\"module-DB.GetMod.Versions.html#.Numbers\">Numbers</a>","description":"<p>Retrieves a list of version numbers for a specific <code>modID</code>.</p>"},{"title":"module:DB.GetMod.Versions.Oldest","link":"<a href=\"module-DB.GetMod.Versions.html#.Oldest\">Oldest</a>","description":"<p>Retrieves the oldest version of a mod.</p>"},{"title":"module:DB.GetMod.Versions.One","link":"<a href=\"module-DB.GetMod.Versions.html#.One\">One</a>","description":"<p>Retrieves the data of a specific mod version.</p>"},{"title":"module:DB.GetUser","link":"<a href=\"module-DB.GetUser.html\">GetUser</a>","description":"<p>Functions related to user management in the database.</p>"},{"title":"module:DB.GetUser.Add","link":"<a href=\"module-DB.GetUser.html#.Add\">Add</a>","description":"<p>Adds a new user to the database or retrieves the existing user if they already exist.</p>\n<p>If the user with the specified <code>discordID</code> already exists, their data is retrieved and returned.\nIf they do not exist, a new user entry is created and added to the database.</p>"},{"title":"module:DB.GetUser.Ban","link":"<a href=\"module-DB.GetUser.html#.Ban\">Ban</a>","description":"<p>Bans a user by updating their record in the database.</p>\n<p>This function marks a user as banned in the <code>Users</code> collection by setting the <code>banned</code> field to <code>true</code>.</p>"},{"title":"module:DB.GetUser.List","link":"<a href=\"module-DB.GetUser.html#.List\">List</a>","description":"<p>Lists users with pagination.</p>"},{"title":"module:DB.GetUser.One","link":"<a href=\"module-DB.GetUser.html#.One\">One</a>","description":"<p>Retrieves a single user from the database using their discord ID.</p>"},{"title":"module:DB.GetUser.Search","link":"<a href=\"module-DB.GetUser.html#.Search\">Search</a>","description":"<p>Searches for users by discord ID or username.</p>"},{"title":"module:DB.GetUser.Unban","link":"<a href=\"module-DB.GetUser.html#.Unban\">Unban</a>","description":"<p>Unbans a user by updating their record in the database.</p>\n<p>This function marks a user as not banned in the <code>Users</code> collection by setting the <code>banned</code> field to <code>false</code>.</p>"},{"title":"module:DB.GetUser.UpdatePermissions","link":"<a href=\"module-DB.GetUser.html#.UpdatePermissions\">UpdatePermissions</a>","description":"<p>Updates a user's permissions by adding or removing a specific permission.</p>"},{"title":"module:DB.ModEntry","link":"<a href=\"module-DB.ModEntry.html\">ModEntry</a>"},{"title":"module:DB.ModEntry#Author","link":"<a href=\"module-DB.ModEntry.html#Author\">Author</a>","description":"<p>Information about the mod's author.</p>"},{"title":"module:DB.ModEntry#modData","link":"<a href=\"module-DB.ModEntry.html#modData\">modData</a>","description":"<p>The data associated with the mod.</p>"},{"title":"module:DB.ModEntry#modID","link":"<a href=\"module-DB.ModEntry.html#modID\">modID</a>","description":"<p>The unique identifier of the mod.</p>"},{"title":"module:DB.ModEntry#uploadTime","link":"<a href=\"module-DB.ModEntry.html#uploadTime\">uploadTime</a>","description":"<p>The date and time when the mod was uploaded.</p>"},{"title":"module:DB.ModEntry#verified","link":"<a href=\"module-DB.ModEntry.html#verified\">verified</a>","description":"<p>Whether the mod is verified.</p>"},{"title":"module:DB.ModEntry#votes","link":"<a href=\"module-DB.ModEntry.html#votes\">votes</a>","description":"<p>The number of votes that the mod has received.</p>"},{"title":"module:DB.ModVersionEntry","link":"<a href=\"module-DB.ModVersionEntry.html\">ModVersionEntry</a>"},{"title":"module:DB.ModVersionEntry#downloadCount","link":"<a href=\"module-DB.ModVersionEntry.html#downloadCount\">downloadCount</a>","description":"<p>The number of downloads for the mod version.</p>"},{"title":"module:DB.ModVersionEntry#modData","link":"<a href=\"module-DB.ModVersionEntry.html#modData\">modData</a>","description":"<p>The data associated with the mod.</p>"},{"title":"module:DB.ModVersionEntry#modID","link":"<a href=\"module-DB.ModVersionEntry.html#modID\">modID</a>","description":"<p>The ID of the mod.</p>"},{"title":"module:DB.ModVersionEntry#modfile","link":"<a href=\"module-DB.ModVersionEntry.html#modfile\">modfile</a>","description":"<p>The Zip of the mod compressed with zstd.</p>"},{"title":"module:DB.ModVersionEntry#uploadTime","link":"<a href=\"module-DB.ModVersionEntry.html#uploadTime\">uploadTime</a>","description":"<p>The upload time of the mod version.</p>"},{"title":"module:DB.handleClient","link":"<a href=\"module-DB.html#.handleClient\">handleClient</a>","description":"<p>Handles operations using a MongoDB client.\nThis function is exported to allow other modules to use it for custom database operations.</p>"},{"title":"module:api","link":"<a href=\"module-api.html\">api</a>","description":"<p>Global API-related functions.</p>"},{"title":"module:api.actions","link":"<a href=\"module-api.actions.html\">actions</a>"},{"title":"module:api.actions.paths","link":"<a href=\"module-api.actions.html#.paths\">paths</a>","description":"<p>The paths that use this module.</p>"},{"title":"module:api.admin","link":"<a href=\"module-api.admin.html\">admin</a>"},{"title":"module:api.admin.paths","link":"<a href=\"module-api.admin.html#.paths\">paths</a>","description":"<p>The paths that use this module.</p>"},{"title":"module:api.adminactions","link":"<a href=\"module-api.adminactions.html\">adminactions</a>"},{"title":"module:api.adminactions.paths","link":"<a href=\"module-api.adminactions.html#.paths\">paths</a>","description":"<p>The paths that use this module.</p>"},{"title":"module:api.config","link":"<a href=\"module-api.config.html\">config</a>"},{"title":"module:api.config.paths","link":"<a href=\"module-api.config.html#.paths\">paths</a>","description":"<p>The paths that use this module.</p>"},{"title":"module:api.search","link":"<a href=\"module-api.search.html\">search</a>","description":"<p>Namespace for mod search and retrieval functionality within the web module.\nThis provides the API endpoints that power the mod browser interface.</p>"},{"title":"module:api.search.paths","link":"<a href=\"module-api.search.html#.paths\">paths</a>","description":"<p>The paths that use this module.</p>"},{"title":"module:api.search.run","link":"<a href=\"module-api.search.html#.run\">run</a>","description":"<p>Handles API requests for mod search and retrieval.</p>\n<p>Depending on the query parameters, the API provides different functionality:</p>\n<ul>\n<li>Search for mods using keywords.</li>\n<li>Fetch metadata of a specific mod (e.g., name, version, dependencies).</li>\n<li>Download a specific version of a mod.</li>\n<li>Retrieve a list of available versions for a mod.</li>\n</ul>\n<h3 id=\"query-parameters%3A\">Query Parameters:</h3>\n<ul>\n<li>\n<p><strong>search</strong>: <em>(optional)</em>\nSearches for mods using a MongoDB query provided as a JSON string.\nMust be a valid JSON string that is URL-encoded.</p>\n<ul>\n<li><em>Example</em>: <code>search=%7B%22modData.name%22%3A%7B%22%24regex%22%3A%22test%22%2C%22%24options%22%3A%22i%22%7D%7D</code></li>\n<li>This example decodes to: <code>{&quot;modData.name&quot;:{&quot;$regex&quot;:&quot;test&quot;,&quot;$options&quot;:&quot;i&quot;}}</code></li>\n</ul>\n</li>\n<li>\n<p><strong>modid</strong>: <em>(required for non-search options unless modids is provided)</em>\nThe unique ID of the mod to retrieve information or download.</p>\n<ul>\n<li><em>Example</em>: <code>modid=1234</code></li>\n</ul>\n</li>\n<li>\n<p><strong>modids</strong>: <em>(can be used instead of modid for the versions option)</em>\nA comma-separated list of mod IDs to retrieve versions for.</p>\n<ul>\n<li><em>Example</em>: <code>modids=1234,5678,9012</code></li>\n</ul>\n</li>\n<li>\n<p><strong>option</strong>: <em>(required for non-search options)</em>\nSpecifies the action to be performed. Supported values:</p>\n<ul>\n<li><code>&quot;info&quot;</code>: Retrieves metadata of a specific mod.</li>\n<li><code>&quot;download&quot;</code>: Downloads a mod version.</li>\n<li><code>&quot;versions&quot;</code>: Fetches a list of available versions for the mod(s).\n<ul>\n<li>With <code>modid</code> parameter: Returns versions for a single mod.\n<ul>\n<li>With <code>data=true</code> parameter: Returns full version data for each version.</li>\n<li>Without <code>data</code> parameter: Returns only version numbers (default behavior).</li>\n</ul>\n</li>\n<li>With <code>modids</code> parameter: Returns version numbers for multiple mods as an object mapping each modID to its array of versions.\n<ul>\n<li>Note: <code>data=true</code> is not supported with <code>modids</code> parameter.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><em>Example</em>: <code>option=info</code></li>\n</ul>\n</li>\n<li>\n<p><strong>version</strong>: <em>(optional)</em>\nThe specific version of a mod to retrieve or download. If not provided, the latest version will be used.</p>\n<ul>\n<li><em>Example</em>: <code>version=1.0.0</code></li>\n</ul>\n</li>\n<li>\n<p><strong>page</strong>: <em>(optional, only for <code>search</code>)</em>\nSpecifies the page of results to return for the search query. Defaults to <code>1</code>.</p>\n<ul>\n<li><em>Example</em>: <code>page=2</code></li>\n</ul>\n</li>\n<li>\n<p><strong>size</strong>: <em>(optional, only for <code>search</code>)</em>\nSpecifies the number of results to return per page. Defaults to <code>10</code>.</p>\n<ul>\n<li><em>Example</em>: <code>size=25</code></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"behavior-for-query-options%3A\">Behavior for Query Options:</h3>\n<ol>\n<li><code>search</code>: Performs MongoDB queries on mod data using a JSON query string provided in the <code>search</code> parameter.\nSupports pagination with <code>page</code> and <code>size</code>. The search parameter should be a URL-encoded JSON string.\n<ul>\n<li>Default behavior: Returns the first 200 results (<code>page=1</code>, <code>size=200</code>).</li>\n<li>Example query: <code>/api/mods?search=%7B%22modData.name%22%3A%7B%22%24regex%22%3A%22test%22%2C%22%24options%22%3A%22i%22%7D%7D&amp;page=2&amp;size=20</code></li>\n</ul>\n</li>\n<li><code>info</code>: Retrieves metadata for a mod ID, optionally filtered by version.\nRequires <code>modid</code>, and optionally <code>version</code>.</li>\n<li><code>download</code>: Downloads a specific version of a mod.\nRequires <code>modid</code>, and optionally <code>version</code>.</li>\n<li><code>versions</code>: Fetches a list of all available versions for the mod ID.\nRequires <code>modid</code>.</li>\n</ol>"},{"title":"module:api.uploadmod","link":"<a href=\"module-api.uploadmod.html\">uploadmod</a>"},{"title":"module:api.uploadmod.paths","link":"<a href=\"module-api.uploadmod.html#.paths\">paths</a>","description":"<p>The Paths that use this module</p>"},{"title":"module:api.uploadmod.run","link":"<a href=\"module-api.uploadmod.html#.run\">run</a>","description":"<p>Handles client requests to the upload mod API.</p>"},{"title":"module:api.users","link":"<a href=\"module-api.users.html\">users</a>"},{"title":"module:api.users.paths","link":"<a href=\"module-api.users.html#.paths\">paths</a>","description":"<p>The paths that use this module.</p>"},{"title":"module:discord","link":"<a href=\"module-discord.html\">discord</a>","description":"<p>discord bot stuff</p>"},{"title":"module:discord.BotEvents","link":"<a href=\"module-discord.BotEvents.html\">BotEvents</a>","description":"<p>Default structure for bot events.</p>"},{"title":"module:discord.Events","link":"<a href=\"module-discord.Events.html\">Events</a>","description":"<p>Namespace for discord bot events handling.</p>"},{"title":"module:discord.Events.clientready","link":"<a href=\"module-discord.Events.clientready.html\">clientready</a>","description":"<p>Namespace for discord bot events handling.</p>"},{"title":"module:discord.Events.clientready.run","link":"<a href=\"module-discord.Events.clientready.html#.run\">run</a>","description":"<p>Handles the discord client's <code>ready</code> event.</p>"},{"title":"module:discord.Events.interactioncreate","link":"<a href=\"module-discord.Events.interactioncreate.html\">interactioncreate</a>","description":"<p>Namespace for discord bot interaction handling.</p>"},{"title":"module:discord.Events.interactioncreate.run","link":"<a href=\"module-discord.Events.interactioncreate.html#.run\">run</a>","description":"<p>Handles the discord client's <code>interactioncreate</code> event, triggered whenever a user interacts with the bot through a command or other interaction.</p>"},{"title":"module:discord.commands","link":"<a href=\"module-discord.commands.html\">commands</a>","description":"<p>Namespace for discord bot command handling.</p>"},{"title":"module:discord.commands.GetModInfo","link":"<a href=\"module-discord.commands.GetModInfo.html\">GetModInfo</a>","description":"<p>Namespace for discord bot commands.</p>"},{"title":"module:discord.commands.GetModInfo.execute","link":"<a href=\"module-discord.commands.GetModInfo.html#.execute\">execute</a>","description":"<p>Executes the <code>/getmodinfo</code> command.</p>"},{"title":"module:discord.commands.GetModInfo.execute","link":"<a href=\"module-discord.commands.GetModInfo.html#.execute\">execute</a>","description":"<p>Executes the <code>/getsiteactions</code> command.</p>"},{"title":"module:discord.commands.GetModInfo.module.exports","link":"<a href=\"module-discord.commands.GetModInfo.html#.module.exports\">module.exports</a>","description":"<p>Slash command definition and execution logic for <code>/getmodinfo</code>.</p>\n<p>This command retrieves information about a specific mod, including its name, description, author, version, dependencies, and more.</p>"},{"title":"module:discord.commands.GetModInfo.module.exports","link":"<a href=\"module-discord.commands.GetModInfo.html#.module.exports\">module.exports</a>","description":"<p>Slash command definition and execution logic for <code>/getsiteactions</code>.</p>"},{"title":"module:discord.commands.GetModVersions","link":"<a href=\"module-discord.commands.GetModVersions.html\">GetModVersions</a>","description":"<p>Namespace for discord bot commands.</p>"},{"title":"module:discord.commands.GetModVersions.execute","link":"<a href=\"module-discord.commands.GetModVersions.html#.execute\">execute</a>","description":"<p>Executes the <code>/getmodversions</code> command.</p>"},{"title":"module:discord.commands.GetModVersions.module.exports","link":"<a href=\"module-discord.commands.GetModVersions.html#.module.exports\">module.exports</a>","description":"<p>Slash command definition and execution logic for <code>/getmodversions</code>.</p>\n<p>This command fetches a list of all available versions for a specific mod based on its ID.</p>"},{"title":"module:discord.commands.getSiteActions","link":"<a href=\"module-discord.commands.getSiteActions.html\">getSiteActions</a>","description":"<p>Namespace for discord bot commands.</p>"},{"title":"module:discord.commands.searchMods","link":"<a href=\"module-discord.commands.searchMods.html\">searchMods</a>","description":"<p>Namespace for discord bot commands.</p>"},{"title":"module:discord.commands.searchMods.execute","link":"<a href=\"module-discord.commands.searchMods.html#.execute\">execute</a>","description":"<p>Executes the <code>/searchmods</code> command.</p>"},{"title":"module:discord.commands.searchMods.module.exports","link":"<a href=\"module-discord.commands.searchMods.html#.module.exports\">module.exports</a>","description":"<p>Slash command definition and execution logic for <code>/searchmods</code>.</p>\n<p>This command searches a mod database (via MongoDB) for mods that match the given query and optionally filters by verification status.\nIt supports paginated results up to 10 mods per page.</p>"},{"title":"module:discord.computeRepoHash","link":"<a href=\"module-discord.html#.computeRepoHash\">computeRepoHash</a>","description":"<p>Computes a hash of the repository directory.\nThis provides a unique checksum for versioning or verifying the state of a directory.</p>"},{"title":"module:discord.init","link":"<a href=\"module-discord.html#.init\">init</a>","description":"<p>Initializes the discord client and logs the bot in using the token retrieved from the config.</p>"},{"title":"module:discord.module.exports","link":"<a href=\"module-discord.html#.module.exports\">module.exports</a>","description":"<p>Objects and functions exported by the module.</p>"},{"title":"module:discord.registercommands","link":"<a href=\"module-discord.html#.registercommands\">registercommands</a>","description":"<p>Registers all commands with the discord API.\nThis function sends the bot's command data to discord, making it available for use in specific guilds.</p>"},{"title":"module:discord.reloadEvents","link":"<a href=\"module-discord.html#.reloadEvents\">reloadEvents</a>","description":"<p>Reloads event listeners for the bot.\nThis function dynamically loads event files from the <code>./discord/Events</code> directory and registers them with the bot client.</p>"},{"title":"module:discord.reloadcommands","link":"<a href=\"module-discord.html#.reloadcommands\">reloadcommands</a>","description":"<p>Dynamically reloads command modules.\nThis function scans the <code>./discord/commands</code> directory and loads valid commands into the bot's global <code>botCommands</code> collection.</p>"},{"title":"module:discord.start","link":"<a href=\"module-discord.html#.start\">start</a>","description":"<p>Starts the discord bot</p>"},{"title":"module:main","link":"<a href=\"module-main.html\">main</a>","description":"<p>Main application functions and integrations.</p>"},{"title":"module:main.DEFAULT_CONFIG","link":"<a href=\"module-main.html#.DEFAULT_CONFIG\">DEFAULT_CONFIG</a>","description":"<p>Default configuration for the application. This is written to <code>config.json</code> if no file exists.</p>"},{"title":"module:main.computeRepoHash","link":"<a href=\"module-main.html#.computeRepoHash\">computeRepoHash</a>","description":"<p>Computes a hash of the files within the specified directory to track changes in the repository.</p>"},{"title":"module:main.performUpdate","link":"<a href=\"module-main.html#.performUpdate\">performUpdate</a>","description":"<p>Performs a <code>git pull</code> to update the repository, then reloads templates, pages, and timers if changes are detected.</p>"},{"title":"module:timers","link":"<a href=\"module-timers.html\">timers</a>","description":"<p>Timed tasks and scheduled functionality.</p>"},{"title":"module:timers.Loadtimers","link":"<a href=\"module-timers.html#.Loadtimers\">Loadtimers</a>","description":"<p>Function to dynamically load all timer tasks from the <code>timers</code> directory and store them globally.</p>"},{"title":"module:timers.globalThis.timers","link":"<a href=\"module-timers.html#.globalThis.timers\">globalThis.timers</a>","description":"<p>Global array to store all loaded timer tasks.</p>"},{"title":"module:timers.logactions","link":"<a href=\"module-timers.logactions.html\">logactions</a>","description":"<p>Namespace for Sandustry bot timer tasks.</p>"},{"title":"module:timers.logactions.run","link":"<a href=\"module-timers.logactions.html#.run\">run</a>"},{"title":"module:timers.updatemods","link":"<a href=\"module-timers.updatemods.html\">updatemods</a>","description":"<p>Namespace for Sandustry timer tasks.</p>"},{"title":"module:timers.updatemods.run","link":"<a href=\"module-timers.updatemods.html#.run\">run</a>","description":"<p>Timer script to update mod metadata in the Mods collection based on the latest version data.</p>\n<p>This function retrieves mods in batches of 50, fetches their latest version data from the ModVersions collection,\nand updates the main mod entries if their version information has changed. This ensures that search results\nand mod listings always display the most current version information.</p>"},{"title":"module:timers.validatemod","link":"<a href=\"module-timers.validatemod.html\">validatemod</a>","description":"<p>Namespace for Sandustry timer tasks related to mod validation.</p>"},{"title":"module:timers.validatemod.run","link":"<a href=\"module-timers.validatemod.html#.run\">run</a>","description":"<p>Timer script that automatically validates unverified mods after they've been in the database for the configured time period.</p>\n<p>The script queries the MongoDB database for mods marked as unverified, checks if they've exceeded\nthe configured <code>validationTime</code> since their first upload, and if so, automatically marks them as verified.\nThis creates an auto-approval workflow where mods that haven't been explicitly reviewed within the waiting\nperiod are considered safe for general use.</p>\n<p>A log entry is created in the Actions collection whenever a mod is auto-verified.</p>"},{"title":"module:web","link":"<a href=\"module-web.html\">web</a>","description":"<p>Functions related to the web server and its routes.</p>"},{"title":"module:web.LoadPages","link":"<a href=\"module-web.html#.LoadPages\">LoadPages</a>","description":"<p>Function to load dynamically defined pages from the <code>pages</code> directory.</p>"},{"title":"module:web.LoadTemplates","link":"<a href=\"module-web.html#.LoadTemplates\">LoadTemplates</a>","description":"<p>Function to load template files into memory.</p>"},{"title":"module:web.admin","link":"<a href=\"module-web.admin.html\">admin</a>"},{"title":"module:web.admin.paths","link":"<a href=\"module-web.admin.html#.paths\">paths</a>","description":"<p>The paths that use this module.</p>"},{"title":"module:web.discordAuth","link":"<a href=\"module-web.discordAuth.html\">discordAuth</a>","description":"<p>Namespace for discord authentication functionality in the API.</p>"},{"title":"module:web.discordAuth.paths","link":"<a href=\"module-web.discordAuth.html#.paths\">paths</a>","description":"<p>The paths that use this module.</p>"},{"title":"module:web.generateMod","link":"<a href=\"module-web.generateMod.html\">generateMod</a>"},{"title":"module:web.generateMod.paths","link":"<a href=\"module-web.generateMod.html#.paths\">paths</a>","description":"<p>The paths that use this module.</p>"},{"title":"module:web.generateMod.run","link":"<a href=\"module-web.generateMod.html#.run\">run</a>","description":"<p>Handles the mod version generation process.</p>\n<p>This function generates random semantic versions of mods, assigns metadata (such as tags and mod information),\nand packages each version into a <code>.zip</code> file. All generated mods are uploaded to the mod and version database\nas if they were uploaded by real users. The function creates a pool of authors (65% of the total mods count)\nand randomly assigns authors to each mod.</p>\n<h3 id=\"query-parameters%3A\">Query Parameters:</h3>\n<ul>\n<li><strong>count</strong>: <em>(optional)</em> Number of mods to generate. Defaults to 100 if not specified.\n<ul>\n<li><em>Example</em>: <code>count=50</code></li>\n<li><em>Valid Range</em>: 1 to 1,000,000,000</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"response%3A\">Response:</h3>\n<p>Returns a JSON response with information about the generation process, including:</p>\n<ul>\n<li><strong>message</strong>: A message indicating the number of mods and authors being generated</li>\n<li><strong>count</strong>: The number of mods that will be generated</li>\n<li><strong>authorCount</strong>: The number of unique authors created for the mods</li>\n</ul>\n<h3 id=\"process-details%3A\">Process Details:</h3>\n<ol>\n<li>Creates a pool of author names (65% of the total mod count)</li>\n<li>For each mod:\n<ul>\n<li>Generates a random mod name with a random author from the pool</li>\n<li>Creates 10 versions with incrementing semantic versioning</li>\n<li>Assigns random tags from a predefined list</li>\n<li>Creates modinfo.json with metadata</li>\n<li>Adds README.md and entry point files</li>\n<li>Uploads each version to the database</li>\n</ul>\n</li>\n</ol>"},{"title":"module:web.globalThis.templates","link":"<a href=\"module-web.html#.globalThis.templates\">globalThis.templates</a>","description":"<p>Global object to hold templates loaded into memory.</p>"},{"title":"module:web.home","link":"<a href=\"module-web.home.html\">home</a>"},{"title":"module:web.home.paths","link":"<a href=\"module-web.home.html#.paths\">paths</a>","description":"<p>The paths that use this module.</p>"},{"title":"module:web.pages","link":"<a href=\"module-web.html#.pages\">pages</a>","description":"<p>Global object to store all dynamically loaded web pages.</p>"},{"title":"module:web.upload","link":"<a href=\"module-web.upload.html\">upload</a>"},{"title":"module:web.upload.paths","link":"<a href=\"module-web.upload.html#.paths\">paths</a>","description":"<p>The paths that use this module.</p>"},{"title":"module:web.upload.run","link":"<a href=\"module-web.upload.html#.run\">run</a>","description":"<p>Handles GET requests for the upload page.</p>\n<p>This function generates an HTML page using EJS templates and provides it as the response.</p>"},{"title":"pages/actions.js","link":"<a href=\"pages_actions.js.html\">pages/actions.js</a>","description":"<p>Handles action-related API endpoints</p>"},{"title":"pages/admin.js","link":"<a href=\"pages_admin.js.html\">pages/admin.js</a>","description":"<p>Loads the admin page without any data</p>"},{"title":"pages/adminactions.js","link":"<a href=\"pages_adminactions.js.html\">pages/adminactions.js</a>","description":"<p>Handles admin actions like verifying mods, denying mods, and banning authors</p>"},{"title":"pages/admindata.js","link":"<a href=\"pages_admindata.js.html\">pages/admindata.js</a>","description":"<p>Loads the admin api</p>"},{"title":"pages/config.js","link":"<a href=\"pages_config.js.html\">pages/config.js</a>","description":"<p>Handles config-related API endpoints</p>"},{"title":"pages/discordauth.js","link":"<a href=\"pages_discordauth.js.html\">pages/discordauth.js</a>","description":"<p>Handles discord OAuth2 authentication and callback processing for the application.\nSupports user redirection to the discord authorization URL and processes the callback to retrieve user information.</p>"},{"title":"pages/findmod.js","link":"<a href=\"pages_findmod.js.html\">pages/findmod.js</a>","description":"<p>Handles APIs for searching and retrieving mod information, versions, and files.\nThis module provides RESTful endpoints to search the mod database, download specific versions, and retrieve mod metadata.\nIt serves as the primary interface between the frontend and the mod database.</p>"},{"title":"pages/home.js","link":"<a href=\"pages_home.js.html\">pages/home.js</a>","description":"<p>Handles the home page of the mod site.\nThis module renders the home page.</p>"},{"title":"pages/modversiongenerator.js","link":"<a href=\"pages_modversiongenerator.js.html\">pages/modversiongenerator.js</a>","description":"<p>Generates mod version <code>.zip</code> files with various metadata for the modding platform.\nThis module handles the creation of multiple versions, including tags, semantic versioning, and metadata generation.\nThis module is for validating and testing the modding platform with realistic sample data.</p>"},{"title":"pages/upload.js","link":"<a href=\"pages_upload.js.html\">pages/upload.js</a>","description":"<p>Handles the upload page of the mod list site.\nThis file renders the upload page.</p>"},{"title":"pages/uploadmod.js","link":"<a href=\"pages_uploadmod.js.html\">pages/uploadmod.js</a>","description":"<p>Handles the mod upload API endpoint for mod list site.\nThis file manages POST requests to upload a mod, validate the payload and user, and interact with the database.</p>"},{"title":"pages/users.js","link":"<a href=\"pages_users.js.html\">pages/users.js</a>","description":"<p>Handles user-related API endpoints</p>"},{"title":"timers/logactions.js","link":"<a href=\"timers_logactions.js.html\">timers/logactions.js</a>","description":"<p>logs unlogged actions to the discord</p>"},{"title":"timers/updatemods.js","link":"<a href=\"timers_updatemods.js.html\">timers/updatemods.js</a>","description":"<p>A timer to make sure ModDB data is using the latest mod version data from the ModVersions collection.\nThis timer ensures that mod metadata in the Mods collection stays synchronized with the latest version information.</p>"},{"title":"timers/validatemod.js","link":"<a href=\"timers_validatemod.js.html\">timers/validatemod.js</a>","description":"<p>A timer script used to automatically validate unverified mods after they have been in the database for a configurable amount of time.\nThis implementation supports the auto-approval workflow for mods that have passed the waiting period without moderation action.</p>"},{"title":"web.admin.run","link":"<a href=\"web.admin.html#.run\">run</a>","description":"<p>Handles HTTP requests for the admin page.</p>"},{"title":"web.admin.run","link":"<a href=\"web.admin.html#.run\">run</a>","description":"<p>Handles HTTP requests for the admin api.</p>"},{"title":"web.home.run","link":"<a href=\"web.home.html#.run\">run</a>","description":"<p>Handles HTTP requests for the home page.</p>\n<p>This function renders an HTML page using EJS templates and provides it as the response.</p>"}]}